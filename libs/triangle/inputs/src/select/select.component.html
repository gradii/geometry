<div cdkOverlayOrigin
  tri-select-top-control
  tabindex="0"
  class="tri-select-selection"
  [open]="_open"
  [maxTagPlaceholder]="maxTagPlaceholder"
  [placeHolder]="placeHolder"
  [allowClear]="allowClear"
  [maxTagCount]="maxTagCount"
  [showArrow]="showArrow"
  [loading]="loading"
  [suffixIcon]="suffixIcon"
  [clearIcon]="clearIcon"
  [removeIcon]="removeIcon"
  [showSearch]="showSearch"
  [tokenSeparators]="tokenSeparators"
  [class.tri-select-selection--single]="selectService.isSingleMode"
  [class.tri-select-selection--multiple]="selectService.isMultipleOrTags"
  (keydown)="onKeyDown($event)">
</div>
<ng-template
  cdkConnectedOverlay
  [cdkConnectedOverlayHasBackdrop]="true"
  [cdkConnectedOverlayMinWidth]="dropdownMatchSelectWidth? null : triggerWidth"
  [cdkConnectedOverlayWidth]="dropdownMatchSelectWidth? triggerWidth : null"
  [cdkConnectedOverlayOrigin]="cdkOverlayOrigin"
  [cdkConnectedOverlayBackdropClass]="'tri-overlay-transparent-backdrop'"
  (backdropClick)="closeDropDown()"
  (detach)="closeDropDown();"
  (positionChange)="onPositionChange($event)"
  [cdkConnectedOverlayOpen]="_open">
  <div
    class="tri-select-dropdown"
    [class.tri-select-dropdown--single]="selectService.isSingleMode"
    [class.tri-select-dropdown--multiple]="selectService.isMultipleOrTags"
    [class.tri-select-dropdown-placement-bottomLeft]="dropDownPosition === 'bottom'"
    [class.tri-select-dropdown-placement-topLeft]="dropDownPosition === 'top'"
    [ngClass]="dropdownClassName"
    [@slideAnimation]="dropDownPosition"
    [ngStyle]="dropdownStyle">
    <div tri-option-container
      style="overflow: auto;transform: translateZ(0px);"
      (keydown)="onKeyDown($event)"
      [menuItemSelectedIcon]="menuItemSelectedIcon"
      [notFoundContent]="notFoundContent"
      (scrollToBottom)="scrollToBottom.emit()">
    </div>
    <ng-template [ngTemplateOutlet]="dropdownRender"></ng-template>
  </div>
</ng-template>
<!--can not use ViewChild since it will match sub options in option group -->
<ng-template>
  <ng-content></ng-content>
</ng-template>
